<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horizontal Swiper</title>
  <script src="https://cdn.tailwindcss.com"></script>
<script src=" hello/67861d5e9350d5531cf78a3b/js/webflow.f68e86a0.b6ffcd7bf5614e6e.js" type="text/javascript"></script>
<script src="https://unpkg.com/lenis@1.3.11/dist/lenis.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/TextPlugin.min.js"></script>
<script src="./split-type@0.3.4/umd/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
  <style>
    .swiper-container {
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .boxx {
      scroll-snap-align: start;
      transition: transform 0.3s ease;
    }
    .boxx:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body class="bg-gray-100">

  <!-- Wrapper -->
  <video id="stepVideo" style="border-radius: 8px;" class="w-[361px] h-[289px]" muted controls></video>

<div class="swiper-container slider flex gap-[16px] overflow-x-auto w-full h-full px-4 scroll-smooth">
  <!-- Step 1 -->
  <div class="boxx min-w-[306px] bg-white rounded-[16px] shadow-lg h-[180px] p-4 flex flex-col gap-3 relative">
    <img src="/assets/btnxx.png" class="absolute top-0 right-0 w-10 h-10 opacity-20" alt="">
    <div class="bttn w-[54px] bg-[#DBFFEC] flex items-center justify-center h-[30px] rounded-full z-10">
      <p class="text-[#4318FF] text-[10px] font-semibold">Step 1</p>
    </div>
    <p class="font-semibold text-[16px]">Create a call campaign</p>
    <p class="text-[14px] text-gray-600">Simply upload your contact list and get ready to launch.</p>
  </div>

  <!-- Step 2 -->
  <div class="boxx min-w-[306px] bg-white rounded-[16px] shadow-lg h-[180px] p-4 flex flex-col gap-3 relative">
    <img src="/assets/btnxx.png" class="absolute top-0 right-0 w-10 h-10 opacity-20" alt="">
    <div class="bttn w-[54px] bg-[#DBFFEC] flex items-center justify-center h-[30px] rounded-full z-10">
      <p class="text-[#4318FF] text-[10px] font-semibold">Step 2</p>
    </div>
    <p class="font-semibold text-[16px]">Customize your message</p>
    <p class="text-[14px] text-gray-600">Add voice, SMS, or email templates easily.</p>
  </div>

  <!-- Step 3 -->
  <div class="boxx min-w-[306px] bg-white rounded-[16px] shadow-lg h-[180px] p-4 flex flex-col gap-3 relative">
    <img src="/assets/btnxx.png" class="absolute top-0 right-0 w-10 h-10 opacity-20" alt="">
    <div class="bttn w-[54px] bg-[#DBFFEC] flex items-center justify-center h-[30px] rounded-full z-10">
      <p class="text-[#4318FF] text-[10px] font-semibold">Step 3</p>
    </div>
    <p class="font-semibold text-[16px]">Track performance</p>
    <p class="text-[14px] text-gray-600">Get real-time insights and analytics reports.</p>
  </div>
</div>

<script>
  const videos = [
    "./assets/Dashain campaign 3 videos/STEP 1 new campaign and contact upload.mov",
    "./assets/Dashain campaign 3 videos/STEP 2 audio upload.mov",
    "./assets/Dashain campaign 3 videos/STEP 3 campaign run.mov"
  ];

  const videoElement = document.getElementById("stepVideo");
  const slider = document.querySelector(".slider");
  const boxes = document.querySelectorAll(".boxx");
  let currentIndex = 0;

  function setVideo(index) {
    currentIndex = index;
    videoElement.src = videos[index];
    videoElement.play();

    boxes.forEach((box, i) => {
      box.classList.toggle("active", i === index);
    });
  }

  // Start with first video
  setVideo(0);

  // Auto change video when one ends
  videoElement.addEventListener("ended", () => {
    let nextIndex = (currentIndex + 1) % videos.length;
    setVideo(nextIndex);
    scrollToBox(nextIndex);
  });

  // Clicking box â†’ change video
  boxes.forEach((box, i) => {
    box.addEventListener("click", () => {
      setVideo(i);
      scrollToBox(i);
    });
  });

  // Drag to scroll (custom swipe)
  let isDown = false;
  let startX, scrollLeft;

  slider.addEventListener("mousedown", (e) => {
    isDown = true;
    startX = e.pageX - slider.offsetLeft;
    scrollLeft = slider.scrollLeft;
  });
  slider.addEventListener("mouseleave", () => (isDown = false));
  slider.addEventListener("mouseup", () => {
    isDown = false;
    snapToClosestBox(); // snap to nearest card when released
  });
  slider.addEventListener("mousemove", (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - slider.offsetLeft;
    const walk = (x - startX) * 1.5;
    slider.scrollLeft = scrollLeft - walk;
  });

  // Snap slider to closest box & change video
  function snapToClosestBox() {
    let boxWidth = boxes[0].offsetWidth + 16; // width + gap
    let index = Math.round(slider.scrollLeft / boxWidth);
    index = Math.max(0, Math.min(index, boxes.length - 1));
    scrollToBox(index);
    setVideo(index);
  }

  function scrollToBox(index) {
    let boxWidth = boxes[0].offsetWidth + 16;
    slider.scrollTo({
      left: index * boxWidth,
      behavior: "smooth"
    });
  }
</script>

 



</body>
</html>
